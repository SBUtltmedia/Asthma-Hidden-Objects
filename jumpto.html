<!DOCTYPE html>
<html>
<head>
<title>Trigger Jump 2</title>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
</head>

<body>
<div id="blueprint">
<img src="/asthma/img/houseMap.svg" alt="Blueprint image" style="width:40%;">
</div>

<div id="list">

</div>


<script type="text/javascript">
var rooms = ["bedRoom", "livingRoom", "bathRoom", "kitchen"];

rooms.forEach(function(room){
		[0,1].forEach(function(phase){

			var filePrefix=room + phase;
			$( "#list" ).append( "<div id='" + filePrefix + "'></div>" );
			var thisList = $("#" + filePrefix);
			thisList.append("<h3>" + room + " Phase "+ (phase+1)+"</h3>");
			$.getJSON(filePrefix+".json", function(data) {
				for( i in data.targets){
				if (data.targets[i].isTrigger = true){
				console.log(data.targets[i].Name);
				var it = data.targets[i].Name;
				$("#" + filePrefix).append("<p><a href='https://apps.tlt.stonybrook.edu/asthma/?edit=True&item=" + it +"&room=" + room + "&phase="+phase+"'>" + it + "</a></p>");
				console.log("<p><a href='https://apps.tlt.stonybrook.edu/asthma/?edit=True&item=" + it +"&room=" + room + "&phase="+phase+">" + it + "</a></p>");
				}


				}

				})
			});  
		});


</script>
</body>
</html>
